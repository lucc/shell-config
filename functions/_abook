#compdef abook
# ------------------------------------------------------------------------------
# This is free and unencumbered software released into the public domain.
#
# Anyone is free to copy, modify, publish, use, compile, sell, or
# distribute this software, either in source code form or as a compiled
# binary, for any purpose, commercial or non-commercial, and by any
# means.
#
# In jurisdictions that recognize copyright laws, the author or authors
# of this software dedicate any and all copyright interest in the
# software to the public domain. We make this dedication for the benefit
# of the public at large and to the detriment of our heirs and
# successors. We intend this dedication to be an overt act of
# relinquishment in perpetuity of all present and future rights to this
# software under copyright law.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
# IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR
# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
# OTHER DEALINGS IN THE SOFTWARE.
#
# For more information, please refer to <http://unlicense.org/>
# ------------------------------------------------------------------------------
# Description
# -----------
#
#  Completion script for abook
#
# ------------------------------------------------------------------------------
# Authors
# -------
#
#  * Lucas Hoffmann
#
# ------------------------------------------------------------------------------

#nload [options] [devices]
#nload --help|-h
#
#Options:
#-a period       Sets the length in seconds of the time window for average
#                calculation.
#                Default is 300.
#-i max_scaling  Specifies the 100% mark in kBit/s of the graph indicating the
#                incoming bandwidth usage. Ignored if max_scaling is 0 or the
#                switch -m is given.
#                Default is 10240.
#-m              Show multiple devices at a time; no traffic graphs.
#-o max_scaling  Same as -i but for the graph indicating the outgoing bandwidth
#                usage.
#                Default is 10240.
#-t interval     Determines the refresh interval of the display in milliseconds.
#                Default is 500.
#-u h|b|k|m|g    Sets the type of unit used for the display of traffic numbers.
#   H|B|K|M|G    h: auto, b: Bit/s, k: kBit/s, m: MBit/s etc.
#                H: auto, B: Byte/s, K: kByte/s, M: MByte/s etc.
#                Default is h.
#-U h|b|k|m|g    Same as -u, but for a total amount of data (without "/s").
#   H|B|K|M|G    Default is H.
#devices         Network devices to use.
#                Default is to use all auto-detected devices.
#--help
#-h              Print this help.
#
#example: nload -t 200 -i 1024 -o 128 -U M
local -a _opts
# TODO display description of the formats in completion.
local informats=(
  abook   # 'abook native format'
  ldif    # 'ldif / Netscape addressbook'
  mutt    # 'mutt alias'
  pine    # 'pine addressbook'
  csv     # 'comma separated values'
  allcsv  # 'comma separated values (all fields)'
  palmcsv # 'Palm comma separated values'
  vcard   # 'vCard file'
)
local outformats=(
  abook   # 'abook native format'
  ldif    # 'ldif / Netscape addressbook (.4ld)'
  vcard   # 'vCard 2 file'
  mutt    # 'mutt alias'
  muttq   # 'mutt query format (internal use)'
  html    # 'html document'
  pine    # 'pine addressbook'
  csv     # 'comma separated values'
  allcsv  # 'comma separated values (all fields)'
  palmcsv # 'Palm comma separated values'
  elm     # 'elm alias'
  text    # 'plain text'
  wl      # 'Wanderlust address book'
  spruce  # 'Spruce address book'
  bsdcal  # 'BSD calendar'
  custom  # 'Custom format'
)
local queryformats=(
  vcard   # 'vCard 2 file'
  muttq   # 'mutt alias'
  custom  # 'Custom format'
)
_opts=(
  '(- *)'{-h,--help}'[show usage]'
  {-C,--config}'[use an alternative configuration file]:file:_files'
  '--datafile[use an alternative addressbook file]:file:_files'
  '--mutt-query[make a query for mutt]:query'
  '--add-email[read an e-mail message from stdin and add the sender to the addressbook]'
  "--add-email-quiet[same as --add-email but doesn't require to confirm adding]"
  '--convert[convert address book files]'
  #options to use with --convert:
  "--informat[format for input file (default: abook)]:input format:($informats)"
  '--infile[source file (default: stdin)]:file:_files'
  "--outformat[format for output file (default: text)]:output format:($outformats)"
  '--outfile[destination file (default: stdout)]:file:_files'
  '--outformatstr[format to use for "custom" --outformat (default: "{nick} ({name}): {mobile}")]'
  '--formats[list available formats]'
  )

_arguments $_opts
